---
title: 'mlfit: Iterative Proportional Fitting Algorithms for Nested Structures'
tags:
  - R
  - multi-level fitting algorithms
  - population systhesis
authors:
  - name: Kirill M端ller
    affiliation: 1
  - name: Amarin Siripanich^[corresponding author]
    affiliation: 2
  - name: Kay W. Axhausen
    affiliation: 3
  - name: Taha H. Rashidi
    affiliation: 2
affiliations:
  - name: Cynkra GmbH
    index: 1
  - name: UNSW Sydney, Australia
    index: 2
  - name: ETH Z端rich, Switzerland
    index: 3
date: "`r Sys.Date()`"
bibliography: paper.bib
output: rticles::joss_article
# csl: apa.csl
journal: JOSS
link-citations: yes
---

# Summary

<!-- A summary describing the high-level functionality and purpose of the software for a diverse, non-specialist audience. -->

The `mlfit` package provides several well-known multi-level fitting algorithms and weighted sampling algorithms for generating synthetic populations, including: '**Iterative Proportional Updating**' [@ye2009methodology], '**Hierachical Iterative Proportional Fitting'** [@m端ller2011], '**Entropy Optimization'** [@bar2009estimating], **'Generalised Raking'** [@deville1993]**,** and an efficient weighted random sampling without replacement implementation [@m端ller2020], and '**Truncate, replicate, sample**' [@lovelace2013truncate]. Creating a synthetic population only requires marginal constraints and a reference population. `mlfit` allows constraints to be specified at three levels: individual, group, and zone. The fitting algorithms can simultaneously calibrate the unit weights of the reference sample to closely match all constraints at all levels. Once the fitting step is done, weighted sampling algorithms can be applied to replicate the records of the reference sample according to their fitted weights. The final output would be a population that has characteristics closely match the specified marginal constraints, often referred to as a synthetic population.

# Statement of need
<!-- A Statement of Need section that clearly illustrates the research purpose of the software. -->

# `mlfit` package

``` r
install.packages("mlfit")
```

The package was designed to support pipe workflows. Here is an example of how a `mlfit` workflow can be established using the data from @ye2009methodology:

```{r}
library("mlfit")

```

# Acknowledgements

This work was supported by ...

# References